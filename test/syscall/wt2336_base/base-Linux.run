SYSTEM("Linux");
TRACE("close,fdatasync,fsync,ftruncate,open,pwrite,rename");
RUN("");
...
OUTPUT("--------------wiredtiger_open");
// lock == 3
lock = open("./WiredTiger.lock", O_RDWR|O_CREAT|O_CLOEXEC, 0666);
pwrite(lock, "WiredTiger lock file\n", 0x15, 0x0);
fd = open("./WiredTiger", O_RDWR|O_CREAT|O_CLOEXEC, 0666);
pwrite(fd, "WiredTiger\nWiredTiger"..., ...);
fdatasync(fd);
close(fd);

...  // On Linux, there are calls to open and read "/proc/meminfo" here.

fd = open("./WiredTiger.basecfg.set", O_RDWR|O_CREAT|O_EXCL|O_CLOEXEC, 0666);
pwrite(fd, "# Do not modify this file."..., ...);
fdatasync(fd);
close(fd);
rename("./WiredTiger.basecfg.set", "./WiredTiger.basecfg");

dir = open("./", O_RDONLY); 
fdatasync(dir);
close(dir);
fd = open("./WiredTiger.wt", O_RDWR|O_CREAT|O_EXCL|O_NOATIME|O_CLOEXEC, 0666);
dir = open("./", O_RDONLY); 
fdatasync(dir);
close(dir);
pwrite(fd, ""..., 0x1000, 0x0);
fdatasync(fd);
close(fd);
wt = open("./WiredTiger.wt\0", O_RDWR|O_NOATIME|O_CLOEXEC);
ftruncate(wt, 0x1000);

fd = open("./WiredTiger.turtle.set\0", O_RDWR|O_CREAT|O_EXCL|O_CLOEXEC, 0666);
pwrite(fd, "WiredTiger version string\nWiredTiger"..., ...);
fdatasync(fd);
close(fd);
rename("./WiredTiger.turtle.set", "./WiredTiger.turtle");

...  // There is a second open of turtle here, is it important?

fd = open("./WiredTigerLAS.wt", O_RDWR|O_CREAT|O_EXCL|O_NOATIME|O_CLOEXEC, 0666);
dir = open("./", O_RDONLY); 
fdatasync(dir);
close(dir);
pwrite(fd, ""..., 0x1000, 0x0);
fdatasync(fd);
close(fd);
fd = open("./WiredTigerLAS.wt", O_RDWR|O_NOATIME|O_CLOEXEC);
ftruncate(fd, 0x1000);
fd = open("./WiredTiger.turtle", O_RDWR|O_CLOEXEC);
close(fd);
pwrite(wt, ""..., 0x1000, 0x1000);
pwrite(wt, ""..., 0x1000, 0x2000);
pwrite(wt, ""..., 0x1000, 0x3000);
fdatasync(wt);
fd = open("./WiredTiger.turtle", O_RDWR|O_CLOEXEC);
close(fd);
fd = open("./WiredTiger.turtle.set", O_RDWR|O_CREAT|O_EXCL|O_CLOEXEC, 0666);
pwrite(fd, "WiredTiger version string\nWiredTiger"..., ...);
fdatasync(fd);
close(fd);
rename("./WiredTiger.turtle.set", "./WiredTiger.turtle");
dir = open("./", O_RDONLY); 
fdatasync(dir);
close(dir);
fdatasync(wt);
OUTPUT("--------------open_session");
OUTPUT("--------------create");
hello = open("./hello.wt", O_RDWR|O_CREAT|O_EXCL|O_NOATIME|O_CLOEXEC, 0666);
dir = open("./", O_RDONLY); 
fdatasync(dir);
close(dir);
pwrite(hello, "A\330\001"..., 0x1000, 0x0);
fdatasync(hello);
close(hello);
hello = open("./hello.wt", O_RDWR|O_NOATIME|O_CLOEXEC);
ftruncate(hello, 0x1000);
turtle = open("./WiredTiger.turtle", O_RDWR|O_CLOEXEC);
close(turtle);
...  // more changes to turtle
OUTPUT("--------------rename");
ftruncate(hello, 0x1000);
close(hello);
rename("./hello.wt", "./world.wt");
// Changes to turtle, more writes to wt.
turtle = open("./WiredTiger.turtle", O_RDWR|O_CLOEXEC);
close(turtle);
...
OUTPUT("--------------drop");
...
OUTPUT("--------------WT_CONNECTION::close");
...
